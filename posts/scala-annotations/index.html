<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Scala Annotations | Yrieix Leprince</title><meta name=keywords content><meta name=description content="What are annotations in scala? Annotations in Scala are metadata tags applied to declarations or expressions, which can be used by the Scala compiler, or a third-party tool. They can provide additional information or instructions to the compiler, or customize the generated code.
Here are some common uses of annotations in Scala:
Compiler checks: @unchecked, @deprecated, @inline Type-checking: @tailrec, @specialized Generating boilerplate code: @scala.reflect.BeanProperty, @getter, @setter Frameworks/libraries: @Path, @RequestMapping, @SpringBootApplication, etc."><meta name=author content><link rel=canonical href=https://blog.yrieix.com/posts/scala-annotations/><link crossorigin=anonymous href=/assets/css/stylesheet.min.78a965f2e702e3d698578b891499d83542554bd83ed8eb570a907571390d6cb6.css integrity="sha256-eKll8ucC49aYV4uJFJnYNUJVS9g+2OtXCpB1cTkNbLY=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.yrieix.com/favicon.ico><link rel=apple-touch-icon href=https://blog.yrieix.com/apple-touch-icon.png><meta name=twitter:title content="Scala Annotations | Yrieix Leprince"><meta name=twitter:description content="What are annotations in scala? Annotations in Scala are metadata tags applied to declarations or expressions, which can be used by the Scala compiler, or a third-party tool. They can provide additional information or instructions to the compiler, or customize the generated code.
Here are some common uses of annotations in Scala:
Compiler checks: @unchecked, @deprecated, @inline Type-checking: @tailrec, @specialized Generating boilerplate code: @scala.reflect.BeanProperty, @getter, @setter Frameworks/libraries: @Path, @RequestMapping, @SpringBootApplication, etc."><meta property="og:title" content="Scala Annotations | Yrieix Leprince"><meta property="og:description" content="What are annotations in scala? Annotations in Scala are metadata tags applied to declarations or expressions, which can be used by the Scala compiler, or a third-party tool. They can provide additional information or instructions to the compiler, or customize the generated code.
Here are some common uses of annotations in Scala:
Compiler checks: @unchecked, @deprecated, @inline Type-checking: @tailrec, @specialized Generating boilerplate code: @scala.reflect.BeanProperty, @getter, @setter Frameworks/libraries: @Path, @RequestMapping, @SpringBootApplication, etc."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.yrieix.com/posts/scala-annotations/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-30T12:54:48+00:00"><meta property="article:modified_time" content="2023-01-30T12:54:48+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.yrieix.com/posts/"},{"@type":"ListItem","position":3,"name":"Scala Annotations","item":"https://blog.yrieix.com/posts/scala-annotations/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Scala Annotations | Yrieix Leprince","name":"Scala Annotations","description":"What are annotations in scala? Annotations in Scala are metadata tags applied to declarations or expressions, which can be used by the Scala compiler, or a third-party tool. They can provide additional information or instructions to the compiler, or customize the generated code.\nHere are some common uses of annotations in Scala:\nCompiler checks: @unchecked, @deprecated, @inline Type-checking: @tailrec, @specialized Generating boilerplate code: @scala.reflect.BeanProperty, @getter, @setter Frameworks/libraries: @Path, @RequestMapping, @SpringBootApplication, etc.","keywords":[],"wordCount":"337","inLanguage":"en","datePublished":"2023-01-30T12:54:48Z","dateModified":"2023-01-30T12:54:48Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.yrieix.com/posts/scala-annotations/"},"publisher":{"@type":"Organization","name":"Yrieix Leprince","logo":{"@type":"ImageObject","url":"https://blog.yrieix.com/favicon.ico"}}}</script><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary-bg:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list-page{background:var(--theme)}.list-page:not(.dark)::-webkit-scrollbar-track{background:0 0}.list-page:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class="type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="light",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><header class=header><nav class=nav><div class=logo><a href=https://blog.yrieix.com accesskey=h title="Yrieix Leprince (Alt + H)">Yrieix Leprince</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://blog.yrieix.com/posts/ title=Posts class=active>Posts</a></li><li><a href=https://blog.yrieix.com/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li><li><a href=https://blog.yrieix.com/tags/ title=Tags>Tags</a></li></ul></nav></header><main class="main post"><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.yrieix.com>Home</a>&nbsp;»&nbsp;<a href=https://blog.yrieix.com/posts/>Posts</a></div><h1 class=post-title>Scala Annotations</h1><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg><span>January 30, 2023</span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>2 min</span></span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#what-are-annotations-in-scala aria-label="What are annotations in scala?">What are annotations in scala?</a></li><li><a href=#how-about-the-volatile-annotation aria-label="How about the @volatile annotation?">How about the <code>@volatile</code> annotation?</a></li></ul></div></details></div><div class=post-content><h2 id=what-are-annotations-in-scala>What are annotations in scala?<a hidden class=anchor aria-hidden=true href=#what-are-annotations-in-scala>¶</a></h2><p>Annotations in Scala are metadata tags applied to declarations or expressions, which can be used by the Scala compiler, or a third-party tool.
They can provide additional information or instructions to the compiler, or customize the generated code.</p><p>Here are some common uses of annotations in Scala:</p><ol><li>Compiler checks: @unchecked, @deprecated, @inline</li><li>Type-checking: @tailrec, @specialized</li><li>Generating boilerplate code: @scala.reflect.BeanProperty, @getter, @setter</li><li>Frameworks/libraries: @Path, @RequestMapping, @SpringBootApplication, etc.</li></ol><p>Annotations in Scala are denoted by the &lsquo;@&rsquo; symbol, followed by the name of the annotation and optional arguments within parentheses.</p><p>For example the annotation @deprecated before a method causes the compiler to print a warning if the method is used.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#66d9ef>object</span> <span style=color:#a6e22e>DeprecationDemo</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>App</span><span style=color:#66d9ef>:</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>@deprecated</span><span style=color:#f92672>(</span><span style=color:#960050;background-color:#1e0010>&#34;</span><span style=color:#66d9ef>deprecation</span> <span style=color:#66d9ef>message</span><span style=color:#960050;background-color:#1e0010>&#34;</span><span style=color:#f92672>,</span> <span style=color:#960050;background-color:#1e0010>&#34;</span><span style=color:#66d9ef>release</span> <span style=color:#66d9ef>#</span> <span style=color:#66d9ef>which</span> <span style=color:#66d9ef>deprecates</span> <span style=color:#66d9ef>method</span><span style=color:#960050;background-color:#1e0010>&#34;</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> hello <span style=color:#66d9ef>=</span> <span style=color:#e6db74>&#34;hola&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      hello
</span></span></code></pre></div><p>This will compile but the compiler will print a warning: “there was one deprecation warning”.</p><p>An annotation clause applies to the first definition or declaration following it. More than one annotation clause may precede a definition and declaration. The order in which these clauses are given does not matter.</p><h2 id=how-about-the-volatile-annotation>How about the <code>@volatile</code> annotation?<a hidden class=anchor aria-hidden=true href=#how-about-the-volatile-annotation>¶</a></h2><p>The <code>@volatile</code> annotation in Scala is used to declare a field as volatile.
Volatile fields are special in that they can be read and written by multiple threads and provide visibility and ordering guarantees.
When a field is declared volatile, the JVM ensures that the latest value written to the field by one thread is visible to all other threads, and all changes to the volatile field are atomic.</p><p>Here&rsquo;s an example of how to declare a volatile field in Scala:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#a6e22e>@volatile</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> count <span style=color:#66d9ef>=</span> <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><p>Note that @volatile is a Scala-specific annotation and is not a standard Java feature. The equivalent in Java would be to use the volatile keyword when declaring the field:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>volatile</span> <span style=color:#66d9ef>int</span> count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>;</span>
</span></span></code></pre></div><p>In general, volatile fields should be used sparingly and only in situations where visibility and atomicity guarantees are important, as access to volatile fields is slower than to non-volatile fields.</p><hr><p>sources:</p><ul><li><a href=https://docs.scala-lang.org/tour/annotations.html>scala doc</a></li><li><a href>chat gpt</a></li></ul></div><footer class=post-footer></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://blog.yrieix.com>Yrieix Leprince</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a></span>
<span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>(function(){const t=""=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n=""=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script>
<script>(function(){const a=""=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script></body></html>